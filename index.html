<!DOCTYPE myhtml>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS v5.0.2 -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <style>
      body {
        text-align: center;
        font-family: "Helvetica", sans-serif;
      }
      h1 {
        font-size: 2em;
        font-weight: bold;
      }
    </style>
  </head>
  <body style="padding: 1cm; padding-top: 0%; background-color: honeydew">
    <!-- Bootstrap JavaScript Libraries -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>

    <h1
      style="color: cadetblue; margin-bottom: 0.5cm; padding: 0.2cm"
      class="container-md shadow-lg border-dark"
    >
      Image Fetcher
    </h1>
    <div style="margin: 0.2cm; position: fixed; bottom: 0; right: 0">
      <label for="imgquery"></label>
      <input class="fa-search" type="search" id="imgquery" name="imgquery" />

      <button id="getMessage" class="btn btn-success btn-outline-dark btn-sm">
        Search Image
      </button>
    </div>

    <div
      id="imageContent"
      class="container-md shadow-lg border-dark"
      style="padding-top: 0.2cm; padding-bottom: 0.2cm; color: cadetblue; font-weight: bolder;"
    >
      Enter any image to search in the search box
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("getMessage").onclick = function () {
          const query = document.getElementById("imgquery").value;

          const url =
            "https://pixabay.com/api/?key=17128729-98eb80251b379bda8af6fc070&q=" +
            query +
            "&image_type=photo";
          const xhttp = new XMLHttpRequest();
          xhttp.open("GET", url, true);
          xhttp.send();
          xhttp.onload = function () {
            const jsonObj = JSON.parse(xhttp.response);

            const jsonArray = jsonObj.hits;
            let myhtml = "";
            jsonArray.forEach((element) => {
              myhtml += "<div class = 'Fetchedimg'>";
              myhtml +=
                "<img src='" +
                element.largeImageURL +
                "' alt='Loading' width=90% >";

              myhtml += "</div><br>";
            });
            document.getElementById("imageContent").innerHTML = myhtml;
          };
        };
      });
    </script>
  </body>
</html>
